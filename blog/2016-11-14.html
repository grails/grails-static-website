<!DOCTYPE html>
<html>
<head>
    <title>Introducing the React Profile for Grails</title>
    <meta name="keywords" content="grails,jvm,framework,groovy,gradle,spring-boot,gorm" />
    <meta name="description" content="Learn about Grails React profiles, one aimed at monolithic Grails applications, and a second profile which generates a multi-project client/server structure." />
    <meta name="date" content="November 14, 2016" />
    <meta name="robots" content="all"/>
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://grails.org/rss.xml" />
    <meta charset='UTF-8' />
    <link rel='icon' href='https://grails.org/images/favicon.ico'/>
    <meta name='twitter:card' content='summary_large_image'/>
    <meta name='twitter:site' content='@grailsframework'/>
    <meta name='twitter:description' content='Learn about Grails React profiles, one aimed at monolithic Grails applications, and a second profile which generates a multi-project client/server structure.'/>
    <meta name='twitter:creator' content='@grailsframework'/>
    <meta property='og:image' content='https://grails.org/images/grails.png'/>
    <meta property='og:image:width' content='300'/>
    <meta property='og:image:height' content='300'/>
    <meta property='og:url' content='https://grails.org'/>
    <meta property='og:title' content='Introducing the React Profile for Grails'/>
    <meta property='og:description' content='Learn about Grails React profiles, one aimed at monolithic Grails applications, and a second profile which generates a multi-project client/server structure.'/>
    <meta property='og:type' content='website'/>

    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <link rel='mask-icon' href='https://grails.org/images/grails-pinned-icon.svg' color='feb672' />
    <link rel='stylesheet' href='https://grails.org/stylesheets/screen.css' />
    <script src='https://grails.org/javascripts/navigation.js'></script>
    
    
    
</head>
<body><header class='mainheader'>
    <div class='content'>
        <a href='https://grails.org/index.html'><img class='grailslogo' src='https://grails.org/images/grails_logo.svg' alt='Grails Logo' /></a>
        <a href='javascript:show(&apos;topmenus&apos;, &apos;showNavigationLink&apos;)' id='showNavigationLink' class='mobile align-center'>Show Navigation</a>
        <div id='topmenus'>
            <nav class='secondarymenu' id='secondarymenu'><ul>
                <li><a href='https://grails.org/blog/index.html'>Blog</a></li>
                <li><a href='https://grails.org/learning.html'>Learning</a></li>
                <li><a href='https://grails.org/community.html'>Community</a></li>
                <li><a href='https://grails.org/search.html'>Search</a></li>
            </ul></nav>
            <nav class='mainmenu' id='mainmenu'><ul>
                <li><a href='https://grails.org/documentation.html'>Documentation</a></li>
                <li><a href='https://grails.org/download.html'>Download</a></li>
                <li><a href='https://plugins.grails.org'>Plugins</a></li>
                <li><a href='https://guides.grails.org/index.html'>Guides</a></li>
                <li><a href='https://grails.org/faq.html'>FAQ</a></li>
                <li><a href='https://grails.org/support.html'>Support</a></li>
            </ul></nav>
        </div>
    </div>
</header>
<article><div class='headerbar chalicesbg'>
  <div class='content'>
    <h1>
      <a href='https://grails.org/blog/index.html'>Grails Blog</a>
    </h1>
  </div>
</div>
<div class='content container'>
  <div class='light padded blogpost'><h1>Introducing the React Profile for Grails</h1>
<p><span class="author">By Zachary Klein</span></p>
<p><span class="date">November 14, 2016</span></p>
<p>Tags: <a href="https://grails.org/blog/tag/react.html"><span class="hashtag">#react</span></a></p>
<h2>React Profiles for Grails</h2>
<p>Grails 3 offers great support for the Angular framework, including the Angular Scaffolding plugin as well as profiles for both Angular 1.x and 2.x. Recently new profiles have been released to provide support for creating React applications with Grails 3.</p>
<p>This post will cover <em>two new profiles for React</em>, one aimed at monolithic Grails applications, and a second profile which makes use of the brand new <a href="https://github.com/facebookincubator/create-react-app"><code>create-react-app</code> CLI</a> and generates a multi-project client/server structure.</p>
<p><img src="2016-11-14-img01.png" alt="" /></p>
<h2>React &amp; Webpack Profiles</h2>
<p>If you've read the previous post on <a href="URL">Using React with Grails</a>, you've probably noticed that there's quite a bit of wiring that has to happen to get React working properly in the context of a Grails application. This is a place where profiles shine, and now you can get an entire React/Grails project setup immediately upon app generation, including some basic sample React code.</p>
<pre><code>grails create-app myReactApp --profile=org.grails.profiles:react:1.0.2
</code></pre>
<p>The <code>react:1.x</code> profile is based on another new profile, <code>org.grails.profiles:webpack:1.x</code>.  The <code>webpack</code> profile can be used standalone as well, if you want to use webpack with another JavaScript framework in a Grails project. In addition, the <code>webpack</code> profile offers a single feature which will configure the <code>babel</code> transpiler with support for ES6 - it also includes sample code to demonstrate the feature.</p>
<pre><code>grails create-app myWebpackApp --profile=org.grails.profiles:webpack:1.0.2 --features=babel
</code></pre>
<p>Both the <code>webpack</code> and <code>react:1.x</code> profiles will expect the JavaScript source files to be kept under <code>/src/main/webapp</code>. You can simply start up your app, and webpack will run automatically and bundle the JavaScript into the Grails asset pipeline.  Custom Gradle tasks such as <code>bundle</code> (to generate the webpack bundle on app startup) and <code>webpack</code> (to run webpack in &quot;watch&quot; mode and reload any changes) are defined. You may also run the corresponding npm scripts if you have npm installed (scripts are defined in <code>package.json</code>).</p>
<p>For instance, you can run webpack alongside your Grails app with this command:</p>
<pre><code>./gradlew webpack //or: npm run webpack
</code></pre>
<p>Now when you make changes to your JavaScript/React code under <code>/src/main/webapp</code>, webpack will automatically regenerate the bundle. Just refresh your page to see the changes.</p>
<p>In addition, the <code>react</code> profile adds a <code>mochaTest</code> task which will run React tests with the mocha test runner. Test sources are kept under <code>/src/test/js</code>, and a simple test is provided. Simply run:</p>
<pre><code>./gradlew mochaTest //or: npm test
</code></pre>
<h2>React Profile - Multi-Project Edition</h2>
<p>The react profile is being released with two branches, currently <code>1.0.2</code> and <code>2.0.1</code>.</p>
<p>The <code>react:2.0.1</code> profile is complete rewrite of the 1.x version, and it leverages the new React CLI from Facebook, <code>create-react-app</code>. For more information on the features provided by <code>create-react-app</code>, please read the <a href="https://github.com/facebookincubator/create-react-app">documentation on Github</a>.</p>
<p>In short, <code>create-react-app</code> provides us with a complete webpack/React project, with custom scripts defined to build, run and test our React app. It is designed for standalone React apps, which makes it a perfect choice for a client/frontend application backed by a separate server application. That is exactly what <code>react:2.0.1</code> provides.</p>
<p><img src="2016-11-14-img02.png" alt="" /></p>
<p>Please note that <code>react:2.0.1</code> depends upon the new CORS support in Grails 3.2.1, so you will need to be using that version of Grails or newer.</p>
<p>To get started with this profile, specify it when generating your app:</p>
<pre><code>grails create-app myReactMultiApp --profile=org.grails.profiles:react:2.0.1
</code></pre>
<p>Take a look at the directory structure - you will see a typical Gradle multi-project build, with separate client and server projects.</p>
<pre><code>-rw-r--r--  1 zak  staff    65 Nov  1 13:10 build.gradle
drwxr-xr-x  9 zak  staff   306 Nov  1 13:15 client
drwxr-xr-x  3 zak  staff   102 Nov  1 13:10 gradle
-rwxr--r--  1 zak  staff  4971 Nov  1 13:10 gradlew
-rwxr--r--  1 zak  staff  2314 Nov  1 13:10 gradlew.bat
drwxr-xr-x  8 zak  staff   272 Nov  1 13:12 server
-rw-r--r--  1 zak  staff    26 Nov  1 13:10 settings.gradle
</code></pre>
<p><code>server</code> is of course our Grails application. The profile will generate a Grails app using the <code>rest-api</code> profile, which provides support for creating domain classes as restful resources as well as JSON and Markup views.</p>
<p><code>client</code> is our React app. It has been rewritten with React-Bootstrap (Bootstrap 3) and will connect with <code>server</code> via REST calls - it has no Grails dependencies of any kind.</p>
<pre><code>-rw-r--r--   1 zak  staff  44412 Nov  1 13:10 README.md
-rw-r--r--   1 zak  staff    669 Nov  1 13:10 build.gradle
-rw-r--r--   1 zak  staff    404 Nov  1 13:10 package.json
drwxr-xr-x   4 zak  staff    136 Nov  1 13:10 public
drwxr-xr-x  10 zak  staff    340 Nov  1 13:10 src
</code></pre>
<p>This project structure (with the exception of <code>build.gradle</code>, which is specific to the <code>react:2.0.1</code> profile) is all courtesy of <code>create-react-app</code>, and includes an excellent <code>README</code> file. In short, the <code>src/</code> directory is where the React code is kept, <code>public/</code> is for public resources that you wish to make available from your React app without going through webpack's bundling - this directory also includes a template <code>index.html</code> file which is used to generate the React app's home page.  Again, see the <code>create-react-app</code> documentation for more details.</p>
<p>One significant customization of the <code>client</code> project (besides the Grails-branded UI) is the file <code>src/config.js</code>. This file is used to specify the URL of the backend, by default <code>http://localhost:8080</code>. It also obtains the current version of the React app from 'package.json'.</p>
<p>As with the 1.x version of the <code>react</code> profile, this profile define custom Gradle tasks, including a <code>bootRun</code> task to startup the client app. You can either start up the <code>server</code> and <code>client</code> apps separately:</p>
<pre><code>./gradlew server:bootRun

//in another terminal
./gradlew client:bootRun
</code></pre>
<p>Or you can take advantage of Gradle's parallel execution to run both client and server apps in a single command:</p>
<pre><code>./gradlew bootRun -parallel
</code></pre>
<p>Other tasks defined in <code>client</code> wrap the <code>create-react-app</code> scripts for building and testing the React app. You can run them with the Gradle wrapper, or run the npm scripts directly if you have npm installed.</p>
<pre><code>./gradlew client:test //or, from the client project dir: npm test

./gradlew client:build //or, from the client project dir: npm run build
</code></pre>
<p>Again, please see the <code>create-react-app</code> documentation for more information on leveraging these scripts and the other features provided by <code>create-react-app</code>.</p>
<h2>Wrap-Up</h2>
<p>These two profiles offer two ways to use React in the context of a Grails application. If you want to use React within your existing Grails application, either to render components on a GSP or to replace some or all of your GSP pages, then use <code>react:1.0.1</code> (or the latest version of the 1.x branch).</p>
<p>If you prefer a completely separate frontend for your Grails application, and/or want to take advantage of the features of the <code>create-react-app</code> CLI, then the <code>react:2.0.1</code> (or latest version of the 2.x branch) is made for you.</p>
<p>Whichever one you choose, here's hoping these profiles help you enjoy using React with Grails 3!</p>
<h2>Links</h2>
<ul>
<li><code>create-react-app</code>: <a href="https://github.com/facebookincubator/create-react-app">https://github.com/facebookincubator/create-react-app</a></li>
<li>&quot;Using React with Grails&quot;: <a href="http://grailsblog.objectcomputing.com/posts/2016/05/28/using-react-with-grails.html">http://grailsblog.objectcomputing.com/posts/2016/05/28/using-react-with-grails.html</a></li>
</ul>
    <h2>You might also like ...</h2>
    <div class='threecolumns'>
      <div class='column'><article class='blogcard' style='background-image: url(https://grails.org/images/2018-02-09.jpg)'>
  <a href='https://grails.org/blog/2018-02-09.html'>
    <h3>February 9, 2018</h3>
    <h2>Developing React Apps with Grails 3</h2>
  </a>
</article></div>
      <div class='column'><article class='blogcard' style='background-image: url(https://grails.org/images/2017-11-21.jpg)'>
  <a href='https://grails.org/blog/2017-11-21.html'>
    <h3>November 21, 2017</h3>
    <h2>Grails React Profiles</h2>
  </a>
</article></div>
      <div class='column'><article class='blogcard' style='background-image: url(https://grails.org/images/2017-10-30.jpg)'>
  <a href='https://grails.org/blog/2017-10-30.html'>
    <h3>October 30, 2017</h3>
    <h2>Quickcast #8: Grails React Profile</h2>
  </a>
</article></div>
    </div>
  </div>
</div>&nbsp;</article>
<footer>
    <div class='content'>
        <div class='ocihometograils'>
            <span>Sponsored by</span>
            <a href='https://objectcomputing.com/products/grails/'><img class='' src='https://grails.org/images/oci_home_to_grails.svg' alt='Object Computing - Home to Grails' width='300px' /></a>
        </div>
        <nav class='socialmedianav'><ul>
            <li>
                <a href='https://grails-slack.cfapps.io'><img class='' src='https://grails.org/images/slack.svg' alt='Slack Icon' /></a>
            </li>
            <li>
                <a href='https://www.youtube.com/watch?v=XnRNfDGkBVg&amp;list=PLI74De5M9T73uH3WilDCePP2qfSDpMaGu'><img class='' src='https://grails.org/images/youtube.svg' alt='Youtube Icon' /></a>
            </li>
            <li>
                <a href='https://www.linkedin.com/groups/39757'><img class='' src='https://grails.org/images/linkedin.svg' alt='LinkedIn Icon' /></a>
            </li>
            <li>
                <a href='https://github.com/grails/'><img class='' src='https://grails.org/images/github.svg' alt='Github Icon' /></a>
            </li>
            <li>
                <a href='https://twitter.com/grailsframework'><img class='' src='https://grails.org/images/twitter.svg' alt='Twitter Icon' /></a>
            </li>
        </ul></nav>
        <nav class='partnersnav'><ul>
            <li>Grails' repositories are hosted by
                <a href='http://artifactoryonline.com/'>Artifactory</a>
            </li>
            <li>Website hosting provided by
                <a href="https://run.pivotal.io/">Pivotal</a>
            </li>
            <li>JetBrains supports Grails with its
                <a href='https://www.jetbrains.com/idea/'>IntelliJ IDEA IDE</a>
            </li>
            <li>YourKit supports Grails with its
                <a href='https://www.yourkit.com/java/profiler/index.jsp'>Java Profiler</a>
            </li>
            <li>Grails is Open Source
                <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache 2 License</a>
            </li>
            <li>
                <a href='https://grails.org/buildstatus.html'>Build Status</a>
            </li>
        </ul></nav>
    </div>
</footer><div>
    <script type='text/javascript'>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-82213539-2', 'auto');
        ga('send', 'pageview');
    </script>
    <script type='text/javascript'>
        adroll_adv_id = "HBWJH4CQCJGS5DJRSB4Z4D";
        adroll_pix_id = "IVEQYFOZXZAPZMDVQH7BFE";
        /* OPTIONAL: provide email to improve user identification */
        /* adroll_email = "username@example.com"; */
        (function () {
            var _onload = function(){
                if (document.readyState && !/loaded|complete/.test(document.readyState)){setTimeout(_onload, 10);return}
                if (!window.__adroll_loaded){__adroll_loaded=true;setTimeout(_onload, 50);return}
                var scr = document.createElement("script");
                var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
                scr.setAttribute('async', 'true');
                scr.type = "text/javascript";
                scr.src = host + "/j/roundtrip.js";
                ((document.getElementsByTagName('head') || [null])[0] ||
                    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
            };
            if (window.addEventListener) {window.addEventListener('load', _onload, false);}
            else {window.attachEvent('onload', _onload)}
        }());
    </script>
</div>
</body>
</html>