<!DOCTYPE html>
<html>
<head>
    <title>Grails® Angular Scaffolding</title>
    <meta name="keywords" content="grails,jvm,framework,groovy,gradle,spring-boot,gorm" />
    <meta name="description" content="Lean how to use Grails provided scaffolding capabilities within an Angular application" />
    <meta name="date" content="July 6, 2016" />
    <meta name="robots" content="all"/>
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://grails.org/rss.xml" />
    <meta charset='UTF-8' />
    <link rel='icon' href='https://grails.org/images/favicon.ico'/>
    <meta name='twitter:card' content='summary_large_image'/>
    <meta name='twitter:site' content='@grailsframework'/>
    <meta name='twitter:description' content='Lean how to use Grails provided scaffolding capabilities within an Angular application'/>
    <meta name='twitter:creator' content='@grailsframework'/>
    <meta property='og:image' content='https://grails.org/images/grails.png'/>
    <meta property='og:image:width' content='300'/>
    <meta property='og:image:height' content='300'/>
    <meta property='og:url' content='https://grails.org'/>
    <meta property='og:title' content='Grails® Angular Scaffolding'/>
    <meta property='og:description' content='Lean how to use Grails provided scaffolding capabilities within an Angular application'/>
    <meta property='og:type' content='website'/>

    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <link rel='mask-icon' href='https://grails.org/images/grails-pinned-icon.svg' color='feb672' />
    <link rel='stylesheet' href='https://grails.org/stylesheets/screen.css' />
    <script src='https://grails.org/javascripts/navigation.js'></script>
    
    <link rel='stylesheet' href='https://grails.org/stylesheets/prism.css'/>
    <script src='https://grails.org/javascripts/prism.js'></script>
</head>
<body><header class='mainheader'>
    <div class='content'>
        <a href='https://grails.org/index.html'><img class='grailslogo' src='https://grails.org/images/grails_logo.svg' alt='Grails Logo' /></a>
        <a href='javascript:show(&apos;topmenus&apos;, &apos;showNavigationLink&apos;)' id='showNavigationLink' class='mobile align-center'>Show Navigation</a>
        <div id='topmenus'>
            <nav class='secondarymenu' id='secondarymenu'><ul>
                <li><a href='https://grails.org/blog/index.html'>Blog</a></li>
                <li><a href='https://grails.org/learning.html'>Learning</a></li>
                <li><a href='https://grails.org/community.html'>Community</a></li>
                <li><a href='https://grails.org/search.html'>Search</a></li>
            </ul></nav>
            <nav class='mainmenu' id='mainmenu'><ul>
                <li><a href='https://grails.org/documentation.html'>Documentation</a></li>
                <li><a href='https://grails.org/download.html'>Download</a></li>
                <li><a href='https://plugins.grails.org'>Plugins</a></li>
                <li><a href='https://guides.grails.org/index.html'>Guides</a></li>
                <li><a href='https://grails.org/foundation/index.html'>Foundation</a></li>
                <li><a href='https://grails.org/faq.html'>FAQ</a></li>
                <li><a href='https://grails.org/support.html'>Support</a></li>
            </ul></nav>
        </div>
    </div>
</header>
<article><div class='headerbar chalicesbg'>
  <div class='content'>
    <h1>
      <a href='https://grails.org/blog/index.html'>Grails Blog</a>
    </h1>
  </div>
</div>
<div class='content container'>
  <div class='light padded blogpost'><h1>Grails® Angular Scaffolding</h1>
<p><span class="author">By James Kleeh</span></p>
<p><span class="date">July 6, 2016</span></p>
<p>Tags: <a href="https://grails.org/blog/tag/angular.html"><span class="hashtag">#angular</span></a></p>
<p>Creating a single-page application (SPA) has never been easier than it is with the new <a href="https://github.com/grails-plugins/grails-angular-scaffolding">Grails<sup>®</sup> Angular Scaffolding Plugin</a>! This post will give you a short tutorial on how to use it.</p>
<hr />
<p>The easiest way to get started with the scaffolding is to use the angular profile in Grails 3.2.0 or higher, which installs and configures the plugin automatically. See the <a href="http://grails-plugins.github.io/grails-angular-scaffolding/latest">documentation</a> for information on how to get the plugin installed into an existing application.</p>
<p>For this tutorial, we will be working with the following domain classes.</p>
<pre><code class="language-groovy">    package com.myblog

    import grails.rest.Resource

    @Resource(uri=&quot;/post&quot;)
    class Post {
        URL url
        PostContent postContent
        static embedded = ['postContent']
        static hasMany = [comments: Comment , tags: Tag]
        static constraints = {
        }
    }
    //---------------------------------
    package com.myblog

    class PostContent {
        String title
        String body
        Date published
        static constraints = {
        }
    }
    //---------------------------------
    package com.myblog

    import grails.rest.Resource

    @Resource(uri=&quot;/tag&quot;)
    class Tag {
        String name
        static constraints = {
        }
    }
    //---------------------------------
    package com.myblog

    import grails.rest.Resource

    @Resource(uri=&quot;/comment&quot;)
    class Comment {
        String text
        static belongsTo = [post: Post]
        static constraints = {
        }
    }
</code></pre>
<h2>Generating Assets</h2>
<p>Generating client-side assets with this plugin is very easy. In this example, the domain class you would like to have assets generated for is <code>com.myblog.Post</code>:</p>
<pre><code>    grails ngGenerateAll com.myblog.Post
</code></pre>
<p>To specify you wish any generated files to overwrite existing files:</p>
<pre><code>    grails ngGenerateAll com.myblog.Post true
</code></pre>
<p>You can also execute the same command with gradle:</p>
<pre><code>    ./gradlew ngGenerateAll -Pargs=&quot;com.myblog.Post true&quot;
</code></pre>
<p>Some assets that are generated are common to all scaffolded modules. The scaffolding will generate those assets in the “core” module. The core module will be created in the same package as the module being generated if it doesn’t exist already.</p>
<p>If a core module already exists, it will not be overwritten, even if the overwrite parameter is true.</p>
<p>The following structure will be produced.</p>
<p><img src="2016-07-06-img01.png" alt="Structure" /></p>
<p>Note that other modules were created along with the post module.</p>
<p>A module for the <code>Comment</code> domain was created because the scaffolding will convert the list of comments to be instances of the <code>Comment</code> JavaScript domain.</p>
<p>The module for the <code>Tag</code> domain was also created by the scaffolding. The purpose of doing so is to facilitate retrieving a list of tags to choose from when creating a <code>Post</code>.</p>
<p>The modules for the <code>Tag</code> and <code>Comment</code> domains do not provide CRUD functionality. They exist solely to assist the <code>Post</code> module.</p>
<p>In the future, if you wish to scaffold the CRUD of <code>Tag</code>s or <code>Comment</code>s, execute the <code>ngGenerateAll</code> command with the second parameter set to “true” so the existing assets will be overwritten.</p>
<h2>Using the Assets</h2>
<p>If you are using the angular profile in Grails 3.2.0 or higher, none of the steps below are required because they are all done for you!</p>
<p>If you are working with an existing application, there are a few steps you must take to make everything work together as designed.</p>
<ol>
<li>
<p>Ensure that the required third-party libraries exist where the scaffolding expects them to be.</p>
<p>The scaffolding requires angular, angular-resource, and ui-router to function as designed. The default locations for those assets are:</p>
<ul>
<li>/angular/angular.js</li>
<li>/angular/angular-ui-router.js</li>
<li>/angular/angular-resource.js</li>
</ul>
<p>You can change the default locations with configuration. See the <a href="http://grails-plugins.github.io/grails-angular-scaffolding/latest/#_asset_paths">asset paths</a> section in the documentation to learn how to do so.</p>
</li>
<li>
<p>Ensure the required asset pipeline plugins have been imported.</p>
<p>The scaffolding is designed around the use of three asset pipeline plugins. Include the plugins in your project via the instructions in the links below.</p>
<ul>
<li><a href="https://github.com/craigburke/angular-annotate-asset-pipeline">Angular Annotate Asset Pipeline</a></li>
<li><a href="https://github.com/craigburke/angular-template-asset-pipeline">Angular Template Asset Pipeline</a></li>
<li><a href="https://github.com/craigburke/js-closure-wrap-asset-pipeline">JS Closure Wrap Asset Pipeline</a></li>
</ul>
</li>
<li>
<p>Ensure databinding handles the default date format.</p>
<p>The scaffolding relies on the default format Angular applies to dates when they are included in a request. In Grails 3.1.x, the date format is not included in the default list of date formats that databinding will attempt to use. You can easily add it yourself via configuration.</p>
</li>
</ol>
<pre><code>        grails:
            databinding:
                dateFormats:
                    - &quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;
</code></pre>
<ol start="4">
<li>
<p>Ensure the module is loaded on the page</p>
<p>If the &quot;parent&quot; module is already being required by your current code, there is nothing you need to do to get the newly generated module to be included wherever the parent module is. The scaffolding will automatically attempt to create a module dependency and require statement in the parent module.</p>
<p>Here is an example of what that might look like.</p>
</li>
</ol>
<pre><code>        grails ngGenerateAll com.myblog.Post
</code></pre>
<pre><code>*   If `grails-app/assets/javascripts/com/myblog/com.myblog.js` exists, it will be considered to be the parent module. The scaffolding will attempt to edit the file to add a dependency to the `post` module.

If a parent module does not exist or the parent module isn’t being included on the desired page, it is up to you to use asset pipeline to include it where it is needed.
</code></pre>
<ol start="5">
<li>
<p>Ensure a <code>ui-view</code> directive is on the page for the state to load HTML into.</p>
<p>See the ui-view [documentation](https://github.com/angular-ui/ui-router/wiki/Quick-Reference#ui-view target=) on how to do this.</p>
</li>
<li>
<p>Ensure the <code>ng-app</code> directive is on the page. <code>ng-app=&quot;com.myblog.post&quot;</code></p>
</li>
<li>
<p>Naviage to the route <code>[http://localhost:8080/#post](http://localhost:8080/#post)</code></p>
</li>
</ol>
<h2>CRUD</h2>
<p>The following images depict what you will see when you have successfully navigated to the ‘post’ route and begin creating <code>Post</code>s.</p>
<p>List
<img src="2016-07-06-img02.png" alt="List" /></p>
<p>Create
<img src="2016-07-06-img03.png" alt="Create" /></p>
<p>Note that clicking “Add Comment” at this time will not have any effect because the comment scaffolding has not been created.</p>
<p>Show
<img src="2016-07-06-img04.png" alt="Show" /></p>
<h2>Generating Associated Domains</h2>
<p>The logical next step will be to generate the <code>Tag</code> scaffolding so we can create tags. This will allow us to choose tags when creating or editing our <code>Post</code>.</p>
<pre><code>    grails ngGenerateAll com.myblog.Tag true
</code></pre>
<p>Note that the second parameter “true” is important because we already had a Tag module which we will need to overwrite in order for the scaffolding to function correctly.</p>
<p>In addition, we can generate the comment scaffolding so we can assign comments to posts.</p>
<pre><code>    grails ngGenerateAll com.myblog.Comment true
</code></pre>
<p>The following are screen captures of what you can expect once the associated domain classes are generated.</p>
<h3>Tag</h3>
<p>Create
<img src="2016-07-06-img05.png" alt="Create" /></p>
<p>Show
<img src="2016-07-06-img06.png" alt="Show" /></p>
<p>List
<img src="2016-07-06-img07.png" alt="List" /></p>
<h3>Comment</h3>
<p>Create
<img src="2016-07-06-img08.png" alt="Create" /></p>
<p>Show
<img src="2016-07-06-img09.png" alt="Show" /></p>
<p>List
<img src="2016-07-06-img10.png" alt="List" /></p>
<h2>Conclusion</h2>
<p>Now that all domain classes have scaffolding, you can manage your data in a single page application.</p>
<p>The scaffolding is designed as a starting point for rapid development. Explore the generated JavaScript code and make changes to meet your business requirements. If you run into any issues, please submit an issue on the github page <a href="https://github.com/grails-plugins/grails-angular-scaffolding/issues">here</a> or come chat with us about it in our <a href="https://grails.slack.com/">Slack</a> channel.</p>
<p>For a complete run through of installing and using the scaffolding in Grails 3.1.x, check out this <a href="https://objectcomputing.com/index.php?cID=1274" title="Grails Quickcast <a href="https://grails.org/blog/tag/4:.html"><span class="hashtag">#4:</span></a> Angular Scaffolding">Quickcast</a>!</p>
<p>The example project created in the video is available <a href="https://github.com/grails-samples/angular-scaffolding-31x">here</a>.</p>
    <h2 class='space-above'>
      <span>You might also like ...</span>
    </h2>
    <div class='threecolumns'>
      <div class='column'><article class='blogcard' style='background-image: url(https://grails.org/images/2020-10-26.jpg)'>
  <a href='https://grails.org/blog/2020-10-26-grails-foundation-announcement.html'>
    <h3>October 26, 2020</h3>
    <h2>Grails® Foundation Announced</h2>
  </a>
</article></div>
      <div class='column'><article class='blogcard' style='background-image: url(https://grails.org/images/2020-10-16.jpg)'>
  <a href='https://grails.org/blog/2020-10-16-2gm-town-hall-2020-q4.html'>
    <h3>October 16, 2020</h3>
    <h2>2GM Town Hall Meeting: 2020 Q4</h2>
  </a>
</article></div>
      <div class='column'><article class='blogcard' style='background-image: url(https://grails.org/images/2017-04-12.jpg)'>
  <a href='https://grails.org/blog/2017-04-12.html'>
    <h3>April 12, 2017</h3>
    <h2>Grails® Angular Profiles</h2>
  </a>
</article></div>
    </div>
  </div>
</div>&nbsp;</article>
<footer>
    <div class='content'>
        <div class='ocihometograils'>
            <span>Sponsored by</span>
            <a href='https://objectcomputing.com/products/grails/'><img class='' src='https://grails.org/images/oci_home_to_grails.svg' alt='Object Computing - Home to Grails' width='300px' /></a>
        </div>
        <nav class='socialmedianav'><ul>
            <li>
                <a href='https://slack.grails.org'><img class='' src='https://grails.org/images/slack.svg' alt='Slack Icon' /></a>
            </li>
            <li>
                <a href='https://www.youtube.com/watch?v=XnRNfDGkBVg&amp;list=PLI74De5M9T73uH3WilDCePP2qfSDpMaGu'><img class='' src='https://grails.org/images/youtube.svg' alt='Youtube Icon' /></a>
            </li>
            <li>
                <a href='https://www.linkedin.com/groups/39757'><img class='' src='https://grails.org/images/linkedin.svg' alt='LinkedIn Icon' /></a>
            </li>
            <li>
                <a href='https://github.com/grails/'><img class='' src='https://grails.org/images/github.svg' alt='Github Icon' /></a>
            </li>
            <li>
                <a href='https://twitter.com/grailsframework'><img class='' src='https://grails.org/images/twitter.svg' alt='Twitter Icon' /></a>
            </li>
        </ul></nav>
        <nav class='partnersnav'><ul>
            <li>Grails' repositories are hosted by
                <a href='http://artifactoryonline.com/'>Artifactory</a>
            </li>
            <li>Website hosting provided by
                <a href="https://aws.amazon.com/">AWS</a>
            </li>
            <li>JetBrains supports Grails with its
                <a href='https://www.jetbrains.com/idea/'>IntelliJ IDEA IDE</a>
            </li>
            <li>YourKit supports Grails with its
                <a href='https://www.yourkit.com/java/profiler/index.jsp'>Java Profiler</a>
            </li>
            <li>Grails is Open Source
                <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache 2 License</a>
            </li>
            <li>
                <a href='https://grails.org/buildstatus.html'>Build Status</a>
            </li>
        </ul></nav>
    </div>
</footer><div>
    <script type='text/javascript'>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-82213539-2', 'auto');
        ga('send', 'pageview');
    </script>
    <script type='text/javascript'>
        adroll_adv_id = "HBWJH4CQCJGS5DJRSB4Z4D";
        adroll_pix_id = "IVEQYFOZXZAPZMDVQH7BFE";
        /* OPTIONAL: provide email to improve user identification */
        /* adroll_email = "username@example.com"; */
        (function () {
            var _onload = function(){
                if (document.readyState && !/loaded|complete/.test(document.readyState)){setTimeout(_onload, 10);return}
                if (!window.__adroll_loaded){__adroll_loaded=true;setTimeout(_onload, 50);return}
                var scr = document.createElement("script");
                var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
                scr.setAttribute('async', 'true');
                scr.type = "text/javascript";
                scr.src = host + "/j/roundtrip.js";
                ((document.getElementsByTagName('head') || [null])[0] ||
                    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
            };
            if (window.addEventListener) {window.addEventListener('load', _onload, false);}
            else {window.attachEvent('onload', _onload)}
        }());
    </script>
</div>
</body>
</html>
